p
    a.btn.btn--primary.btn--sm.btn--disabled(ui-sref=".new") 新規アップロード
    | &nbsp;
    span.text-muted ※ 資料の投稿機能は現在準備中です。

table.table.table--condensed.table--bordered(ng-if="documents.count() > 0")
    tr
        th 期
        th(ng-if="timeLabel") 回
        th(ng-if="isAnswer") 種別
        th ファイル
    tr(ng-repeat="doc in transformed")
        td(ng-if="cyMap[$index] > 0" rowspan="{{cyMap[$index]}}")
            .text-center {{doc.class_year}}
        td(ng-if="timeLabel && codeMap[$index] > 0" rowspan="{{codeMap[$index]}}")
            .text-center {{timeLabel(doc.code)}}
        td(ng-if="isAnswer")
            .text-center(bind-model="isAnswer(doc.code, doc)" bind-true="問題" bind-false="解答")
        td
            span(ng-if="doc.document_files.length < 1") no files uploaded
            .row(ng-repeat-start="file in doc.document_files")
                .pull-left
                    | {{file.file_name}}
                    | &nbsp;
                    button.button-unstyled.tooltip.tooltip--top(ng-click="downloadFile(file)" tooltip="ダウンロード")
                        i.fa.fa-floppy-o
                    | &nbsp;
                    button.button-unstyled.tooltip.tooltip--top(ng-click="previewFile(file)" ng-if="previewable(file)" tooltip="ブラウザで表示")
                        i.fa.fa-eye
                .pull-right
                    .pull-right.text-right.downloaded {{file.download_count}}回
                    .pull-right
                        | &nbsp;
                    .pull-right.text-right.uploader(tooltip="{{file.user.class_year}}期") {{file.user.name}}
            hr.dotted(ng-repeat-end ng-if="!$last")

p(ng-if="documents.count() === 0") 資料がまだ投稿されていません。
